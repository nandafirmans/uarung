@model Discount

@{
    ViewData[Constant.ViewDataKey.Title] = "Edit Discount";
}

@section ScriptFooter
{
    <script type="text/javascript">
        $("[name='type']").val($("[data-selected='true']").attr("value"));
    </script>
}

<div class="d-flex mb-3">
    <h3 class="mr-auto">Edit Discount</h3>
</div>

<div class="row">
    <div class="col-6">
        <form action="@Url.Action("InsertOrUpdate")" method="POST" autocomplete="off">
            <input type="hidden" name="mode" value="update"/>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label>Code</label>
                        <input type="text" name="code" class="form-control" maxlength="20" value="@Model.Code" readonly required/>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Type</label>
                        <select class="form-control" name="type" required>
                            <option value=""></option>
                            @foreach (var t in new[] {Constant.DiscountType.Amount, Constant.DiscountType.Percentage})
                            {
                                var selected = t.Equals(Model.Type);

                                <option value="@t" data-selected="@(selected ? "true" : "")">
                                    @t
                                </option>
                            }
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>Value</label>
                <input type="number" class="form-control" name="value" value="@Model.Value" required/>
            </div>
            <div class="d-flex">
                <button class="btn btn-primary ml-auto mt-1" type="submit">
                    Submit
                </button>
            </div>
        </form>
    </div>
</div>